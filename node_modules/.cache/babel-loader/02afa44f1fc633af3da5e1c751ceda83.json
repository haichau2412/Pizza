{"ast":null,"code":"import config from '../config/environments';\nconst {\n  API_HOST\n} = config;\n\nconst handleResponse = async response => {\n  try {\n    const result = await response.text();\n    const data = result && JSON.parse(result);\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        logout();\n      }\n\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  } catch (error) {}\n};\n\nexport const signup = async data => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ...data\n    })\n  };\n  const response = await fetch(`${API_HOST}/registration`, requestOptions);\n  console.log(response);\n  const tooken = await handleResponse(response);\n  console.log(tooken);\n  return tooken;\n};\n\nconst logout = () => {};\n\nexport default {\n  signup,\n  handleResponse\n};","map":{"version":3,"sources":["/home/chau1246/Documents/pizza/src/App/service/UserServices.js"],"names":["config","API_HOST","handleResponse","response","result","text","data","JSON","parse","ok","status","logout","error","message","statusText","Promise","reject","signup","requestOptions","method","headers","body","stringify","fetch","console","log","tooken"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,wBAAnB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAeD,MAArB;;AAEA,MAAME,cAAc,GAAG,MAAOC,QAAP,IAAoB;AAEvC,MAAI;AACA,UAAMC,MAAM,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAArB;AACA,UAAMC,IAAI,GAAGF,MAAM,IAAIG,IAAI,CAACC,KAAL,CAAWJ,MAAX,CAAvB;;AACA,QAAI,CAACD,QAAQ,CAACM,EAAd,EAAkB;AACd,UAAIN,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6B;AACzB;AACAC,QAAAA,MAAM;AACT;;AACD,YAAMC,KAAK,GAAIN,IAAI,IAAIA,IAAI,CAACO,OAAd,IAA0BV,QAAQ,CAACW,UAAjD;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH;;AACD,WAAON,IAAP;AACH,GAZD,CAaA,OAAOM,KAAP,EAAc,CAEb;AAEJ,CAnBD;;AAqBA,OAAO,MAAMK,MAAM,GAAG,MAAOX,IAAP,IAAgB;AAClC,QAAMY,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFU;AAGnBC,IAAAA,IAAI,EAAEd,IAAI,CAACe,SAAL,CAAe,EAAE,GAAGhB;AAAL,KAAf;AAHa,GAAvB;AAMA,QAAMH,QAAQ,GAAG,MAAMoB,KAAK,CAAE,GAAEtB,QAAS,eAAb,EAA6BiB,cAA7B,CAA5B;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYtB,QAAZ;AACA,QAAMuB,MAAM,GAAG,MAAMxB,cAAc,CAACC,QAAD,CAAnC;AACAqB,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ;AACA,SAAOA,MAAP;AACH,CAZM;;AAcP,MAAMf,MAAM,GAAG,MAAM,CAEpB,CAFD;;AAIA,eAAe;AACXM,EAAAA,MADW;AAEXf,EAAAA;AAFW,CAAf","sourcesContent":["import config from '../config/environments';\n\nconst { API_HOST } = config;\n\nconst handleResponse = async (response) => {\n\n    try {\n        const result = await response.text();\n        const data = result && JSON.parse(result);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                logout();\n            }\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    }\n    catch (error) {\n\n    }\n\n}\n\nexport const signup = async (data) => {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ ...data })\n    }\n\n    const response = await fetch(`${API_HOST}/registration`, requestOptions);\n    console.log(response);\n    const tooken = await handleResponse(response);\n    console.log(tooken);\n    return tooken;\n}\n\nconst logout = () => {\n\n}\n\nexport default {\n    signup,\n    handleResponse\n}"]},"metadata":{},"sourceType":"module"}