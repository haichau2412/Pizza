{"ast":null,"code":"import { configureStore, createReducer } from '@reduxjs/toolkit';\nimport appReducer from './AppStore';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport thunk from 'redux-thunk';\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['auth', 'cart'],\n  //Things u want to persist\n  blacklist: [] //Things u dont\n\n}; // Middleware: Redux Persist Persisted Reducer\n\nconst persistedReducer = persistReducer(persistConfig, appReducer);\nconst rootReducer = createReducer(undefined, {\n  logout: (state, action) => {\n    storage.removeItem('persist:root');\n    return persistedReducer;\n  }\n});\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: [thunk]\n}); // const rootReducer = (state, action) => {\n//     if (action.type === SIGNOUT_REQUEST) {\n//         // for all keys defined in your persistConfig(s)\n//         storage.removeItem('persist:root')\n//         // storage.removeItem('persist:otherKey')\n//         state = undefined;\n//     }\n//     return appReducer(state, action);\n// };\n\nexport const persistor = persistStore(store);\nexport default {\n  store,\n  persistor\n};","map":{"version":3,"sources":["/home/chau1246/Documents/pizza/src/App/redux/PersistStore.js"],"names":["configureStore","createReducer","appReducer","persistStore","persistReducer","storage","thunk","persistConfig","key","whitelist","blacklist","persistedReducer","rootReducer","undefined","logout","state","action","removeItem","store","reducer","middleware","persistor"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,aAAzB,QAA8C,kBAA9C;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,eAA7C;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,GAAG,EAAE,MADa;AAElBH,EAAAA,OAFkB;AAGlBI,EAAAA,SAAS,EAAE,CAAC,MAAD,EAAS,MAAT,CAHO;AAGW;AAC7BC,EAAAA,SAAS,EAAE,EAJO,CAIH;;AAJG,CAAtB,C,CAOA;;AACA,MAAMC,gBAAgB,GAAGP,cAAc,CAACG,aAAD,EAAgBL,UAAhB,CAAvC;AAGA,MAAMU,WAAW,GAAGX,aAAa,CAACY,SAAD,EAAY;AACzCC,EAAAA,MAAM,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACvBX,IAAAA,OAAO,CAACY,UAAR,CAAmB,cAAnB;AACA,WAAON,gBAAP;AACH;AAJwC,CAAZ,CAAjC;AAQA,OAAO,MAAMO,KAAK,GAAGlB,cAAc,CAAC;AAChCmB,EAAAA,OAAO,EAAEP,WADuB;AAEhCQ,EAAAA,UAAU,EAAE,CAACd,KAAD;AAFoB,CAAD,CAA5B,C,CAKP;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,OAAO,MAAMe,SAAS,GAAGlB,YAAY,CAACe,KAAD,CAA9B;AAEP,eAAe;AACXA,EAAAA,KADW;AAEXG,EAAAA;AAFW,CAAf","sourcesContent":["import { configureStore, createReducer } from '@reduxjs/toolkit';\nimport appReducer from './AppStore';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport thunk from 'redux-thunk';\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['auth', 'cart'], //Things u want to persist\n    blacklist: [], //Things u dont\n};\n\n// Middleware: Redux Persist Persisted Reducer\nconst persistedReducer = persistReducer(persistConfig, appReducer);\n\n\nconst rootReducer = createReducer(undefined, {\n    logout: (state, action) => {\n        storage.removeItem('persist:root');\n        return persistedReducer\n    }\n})\n\n\nexport const store = configureStore({\n    reducer: rootReducer,\n    middleware: [thunk]\n});\n\n// const rootReducer = (state, action) => {\n//     if (action.type === SIGNOUT_REQUEST) {\n//         // for all keys defined in your persistConfig(s)\n//         storage.removeItem('persist:root')\n//         // storage.removeItem('persist:otherKey')\n\n//         state = undefined;\n//     }\n//     return appReducer(state, action);\n// };\n\nexport const persistor = persistStore(store);\n\nexport default {\n    store,\n    persistor\n};\n\n"]},"metadata":{},"sourceType":"module"}